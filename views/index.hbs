<div class="row row-cards">
  <div class="col-lg-4">
    {{#with serverInfo}}
    <!-- Server Info Card mit Discord-Invite-Button -->
    <div class="card mb-4">
      
      <div class="card-body p-0">
        <!-- Server Banner (falls vorhanden) -->
        {{#if banner}}
        <div class="w-100 mb-3">
          <!-- Banner als Hintergrund -->
          <div style="height: 100px; overflow: hidden;">
            <img src="{{banner}}" class="w-100 h-100 object-cover" alt="{{name}} Banner">
          </div>
          
          <!-- Server-Info mit Avatar darunter -->
          <div class="px-3" style="margin-top: -30px;">
            <div class="d-flex align-items-end">
              <div class="me-3">
                <span class="avatar avatar-xl" style="background-image: url({{icon}}); border: 3px solid #fff; box-shadow: 0 0 10px rgba(0,0,0,0.2);"></span>
              </div>
              <div class="mb-2">
                <h2 class="mb-0">{{name}}</h2>
                <div class="text-muted">Erstellt am {{createdAt}}</div>
              </div>
            </div>
          </div>
        </div>
        {{else}}
        <!-- Wenn kein Banner vorhanden ist -->
        <div class="d-flex align-items-center p-3 bg-azure-lt">
          <div class="me-3">
            <span class="avatar avatar-xl" style="background-image: url({{icon}}); border: 2px solid #fff; box-shadow: 0 0 10px rgba(0,0,0,0.1);"></span>
          </div>
          <div>
            <h2 class="mb-0">{{name}}</h2>
            <div class="text-muted">Erstellt am {{createdAt}}</div>
          </div>
        </div>
        {{/if}}
        
        <div class="p-3">
          <!-- Server-Statistiken -->
          <div class="row g-3 mb-3">
            <div class="col-4">
              <div class="card bg-light">
                <div class="card-body p-2 text-center">
                  <div class="text-azure fw-bold">Mitglieder</div>
                  <div class="h3 m-0">{{memberCount}}</div>
                </div>
              </div>
            </div>
            <div class="col-4">
              <div class="card bg-light">
                <div class="card-body p-2 text-center">
                  <div class="text-azure fw-bold">Bots</div>
                  <div class="h3 m-0">{{botCount}}</div>
                </div>
              </div>
            </div>
            <div class="col-4">
              <div class="card bg-light">
                <div class="card-body p-2 text-center">
                  <div class="text-azure fw-bold">Boosts</div>
                  <div class="h3 m-0">{{boosts.count}}</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Server-Boost-Fortschritt
          <div class="mb-4">
            <div class="d-flex justify-content-between mb-1">
              <span class="fw-bold">Server-Boost Level {{boosts.level}}</span>
              <span class="badge bg-purple">{{boosts.progress}}%</span>
            </div>
            <div class="progress progress-sm">
              <div class="progress-bar progress-bar-striped progress-bar-animated bg-purple" style="width: {{boosts.progress}}%" role="progressbar" aria-valuenow="{{boosts.progress}}" aria-valuemin="0" aria-valuemax="100">
                {{#if (eq boosts.level 3)}}
                  Max Level
                {{/if}}
              </div>
            </div>
            <div class="text-muted small mt-2 d-flex align-items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rocket me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"></path>
                <path d="M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"></path>
                <path d="M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
              </svg>
              {{#if (eq boosts.level 3)}}
                Maximales Level erreicht
              {{else}}
                {{boosts.nextLevelLabel}}
              {{/if}}
            </div>
          </div>  -->
          
          <!-- Discord-Invite-Button -->
          <a href="{{../inviteLink}}" target="_blank" class="btn btn-purple btn-lg w-100 d-flex align-items-center justify-content-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-discord me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M8 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0"></path>
              <path d="M14 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0"></path>
              <path d="M8.5 17c0 1 -1.356 3 -1.832 3c-1.429 0 -2.698 -1.667 -3.333 -3c-.635 -1.667 -.476 -5.833 1.428 -11.5c1.388 -1.015 2.782 -1.34 4.237 -1.5l.975 1.923a11.913 11.913 0 0 1 4.053 0l.972 -1.923c1.5 .16 3.043 .485 4.5 1.5c2 5.667 2.167 9.833 1.5 11.5c-.667 1.333 -2 3 -3.5 3c-.5 0 -2 -2 -2 -3"></path>
              <path d="M7 16.5c3.5 1 6.5 1 10 0"></path>
            </svg>
            Discord beitreten
          </a>
        </div>
      </div>
    </div>
    {{/with}}

    <!-- Online Users Card -->
    <div class="card mb-4">
      <div class="card-header d-flex align-items-center">
        <h3 class="card-title">Online Benutzer</h3>
        <div class="ms-auto">
          <span class="status-dot bg-green"></span>
          <span class="text-muted small">Live</span>
        </div>
      </div>
      <div class="card-body">
        <div class="tags-list" id="online-users-container" style="display: none;"><!-- Wird per AJAX gefüllt --></div>
        <div class="text-center" id="online-users-loading">
          <div class="spinner-border text-primary" role="status"></div>
          <div class="mt-2 text-muted">Lade Benutzer...</div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="col-lg-8">
    <!-- Voice Channels Card -->
    <div class="card">
      <div class="card-header d-flex align-items-center">
        <h3 class="card-title">Voice-Channels</h3>
        <div class="ms-auto">
          <span class="status-dot bg-green"></span>
          <span class="text-muted small">Live</span>
        </div>
      </div>
      <div class="list-group list-group-flush list-group-hoverable" id="voice-channels-container" style="display: none;"><!-- Wird per AJAX gefüllt --></div>
      <div class="text-center p-3" id="voice-channels-loading">
        <div class="spinner-border text-primary" role="status"></div>
        <div class="mt-2 text-muted">Lade Voice-Channels...</div>
      </div>
    </div>
  </div>
</div>
